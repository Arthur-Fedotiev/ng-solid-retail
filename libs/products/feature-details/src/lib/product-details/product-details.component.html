<mat-card
  *ngIf="product$ | async as product"
  fxLayout="column nowrap"
  fxLayoutAlign="start center"
  fxLayoutGap="3rem"
  class="product-card"
  role="region"
>
  <mat-card-header>
    <mat-card-title>
      <h1 class="mat-headline">{{ product.name }}</h1>
    </mat-card-title>
  </mat-card-header>
  <img
    class="product-card__photo"
    mat-card-image
    src="https://m.media-amazon.com/images/I/711eKF9vJuL._AC_UY695_.jpg"
    alt="Photo of a {{ product.name }}"
  />
  <mat-card-content class="product-card__content">
    <h3 class="mat-title">Description</h3>
    <p>
      {{ product.description }}
    </p>

    <h3 class="mat-title">Lowest Tier 1 price</h3>
    <p>
      <span *ngIf="product.prices | omniaLowestTierPrice as lowestPrice">{{
        lowestPrice ? lowestPrice + '$' : 'N/A'
      }}</span>
    </p>

    <h3 class="mat-title">Prices by retailers</h3>

    <div *ngFor="let price of product.prices; index as i">
      <omnia-product-price #productPrice="omniaProductPrice" [price]="price">
        <button action mat-mini-fab color="primary">
          <mat-icon>edit</mat-icon>
        </button></omnia-product-price
      >
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button class="prices__action" mat-raised-button color="warn">
      DELETE PRODUCT
    </button>
  </mat-card-actions>
</mat-card>

<!-- <pre> {{ product.prices | json }} </pre> -->
